=== modified file 'bzr/bzrlib/inventory.py'
--- bzr/bzrlib/inventory.py	2008-07-30 21:30:59 +0000
+++ bzr/bzrlib/inventory.py	2008-08-09 00:45:30 +0000
@@ -850,6 +850,7 @@
         if self.root is None:
             return Inventory(root_id=None)
         other = Inventory(entries.next()[1].file_id)
+        other.root.revision = self.root.revision
         # copy recursively so we know directories will be added before
         # their children.  There are more efficient ways than this...
         for path, entry in entries:

